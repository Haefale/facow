<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ ìŠ¤ë§ˆíŠ¸íŒœ ëŒ€ì‹œë³´ë“œ (ê°€ì„ ë‚™ì—½ í…Œë§ˆ)</title>

    <style>
        /* í°íŠ¸ ë° ê¸°ë³¸ ì„¤ì • */
        body {
            /* ğŸ¨ ë³€ê²½: ë°ì€ ìì—° ë°°ê²½ìƒ‰ -> ê°€ì„ ëŠë‚Œì˜ ë°°ê²½ìƒ‰ */
            font-family: 'Consolas', 'Malgun Gothic', monospace;
            background-color: #F8E6CE; /* ë”°ëœ»í•œ í¬ë¦¼/ë² ì´ì§€ìƒ‰ */
            color: #5A4A3B; /* ì–´ë‘ìš´ ê°ˆìƒ‰ ê³„ì—´ ê¸€ììƒ‰ */
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            cursor: none;
        }

        /* í—¤ë” */
        header {
            /* âœ¨ ìˆ˜ì •: íŒ¨ë”© ì¦ê°€, í°íŠ¸ ì‚¬ì´ì¦ˆ í‚¤ì›Œì„œ ì‹œì›í•˜ê²Œ */
            background-color: #D36C2F; /* ë”°ëœ»í•œ ì˜¤ë Œì§€ ë¸Œë¼ìš´ */
            color: #FFFFFF; /* í°ìƒ‰ ê¸€ì”¨ */
            padding: 20px 15px; /* ìƒí•˜ íŒ¨ë”© ì¦ê°€ */
            text-align: center;
            border-bottom: 3px solid #E1854B;
        }

        #farm-name-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 5px;
        }

        #farm-name {
            font-size: 2.2em; /* ì œëª© í°íŠ¸ í¬ê¸° ì¦ê°€ */
            margin: 0;
            margin-right: 15px; /* ë²„íŠ¼ê³¼ì˜ ê°„ê²© */
        }

        #edit-name-btn {
            background-color: #E1854B;
            color: #FFFFFF;
            border: 1px solid rgba(255, 255, 255, 0.5);
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 0.8em;
            transition: background-color 0.2s;
        }
        #edit-name-btn:hover {
            background-color: #C62828;
        }

        header p {
            font-size: 1.1em;
            margin: 5px 0;
        }

        #current-time {
            /* âœ¨ ìƒˆë¡œ ì¶”ê°€: ì‹œê°„ í‘œì‹œ ìŠ¤íƒ€ì¼ */
            font-size: 1.0em;
            font-weight: 300;
            opacity: 0.9;
            margin-top: 10px;
            padding-top: 5px;
            border-top: 1px solid rgba(255, 255, 255, 0.3); /* ì—°í•œ êµ¬ë¶„ì„  */
        }
        /* ì»¨í…Œì´ë„ˆ ë° ë ˆì´ì•„ì›ƒ */
        .container {
            width: 95%;
            max-width: 1400px;
            margin: 25px auto;
            display: flex;
            gap: 30px;
        }

        /* ë°ì´í„°/ì œì–´ íŒ¨ë„ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .dashboard-panel {
            flex: 1;
            /* ğŸ¨ ë³€ê²½: ë¶ˆíˆ¬ëª…í•œ ë°ì€ ë°°ê²½ */
            background-color: rgba(255, 255, 255, 0.9); /* í°ìƒ‰ì— ê°€ê¹Œìš´ ë°ì€ ë°°ê²½ */
            padding: 25px;
            border-radius: 10px;
            /* ğŸ¨ ë³€ê²½: í…Œë‘ë¦¬ì™€ ê·¸ë¦¼ì ìƒ‰ìƒë„ ìì—°ìŠ¤ëŸ½ê²Œ */
            border: 1px solid rgba(211, 108, 47, 0.4); /* í—¤ë”ìƒ‰ ê³„ì—´ */
            box-shadow: 0 0 15px rgba(211, 108, 47, 0.3);
            backdrop-filter: blur(3px);
            transition: box-shadow 0.3s;
            position: relative;
            z-index: 10; /* íŒ¨ë„ì˜ z-index */
        }
        .dashboard-panel:hover {
            box-shadow: 0 0 25px rgba(211, 108, 47, 0.5);
        }

        /* ì œëª© */
        h2 {
            color: #D36C2F; /* ì œëª©ì€ ëˆˆì— ë„ëŠ” ì£¼í™©/ê°ˆìƒ‰ */
            border-bottom: 1px solid #E1854B;
            padding-bottom: 10px;
            margin-top: 0;
        }
        .data-item {
            margin-bottom: 20px;
            padding: 10px 0;
            border-bottom: 1px dashed rgba(0, 0, 0, 0.1); /* ë°ì€ ë°°ê²½ì— ë§ëŠ” êµ¬ë¶„ì„  */
        }
        .data-item strong {
            display: block;
            font-size: 1.2em;
            color: #5A4A3B; /* ê¸€ììƒ‰ ìœ ì§€ */
            margin-bottom: 5px;
        }
        /* ğŸ¨ ë³€ê²½: ë°ì´í„° ê°’ ìƒ‰ìƒ */
        .data-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #007BFF; /* ê°•ì¡°ë¥¼ ìœ„í•´ íŒŒë€ìƒ‰ ê³„ì—´ ìœ ì§€ */
        }

        /* í”„ë¡œê·¸ë ˆìŠ¤ë°” */
        progress {
            width: 100%; height: 8px; -webkit-appearance: none; appearance: none; border-radius: 5px; margin-top: 5px;
        }
        progress::-webkit-progress-bar { background-color: #F0D4B2; border-radius: 5px; } /* ë°ì€ ë°°ê²½ì— ë§ëŠ” ê¸°ë³¸ìƒ‰ */
        progress::-webkit-progress-value { background-color: #D36C2F; border-radius: 5px; } /* ì±„ìš°ëŠ” ìƒ‰ìƒ */
        progress::-moz-progress-bar { background-color: #D36C2F; border-radius: 5px; }

        /* ì œì–´ íŒ¨ë„ ë²„íŠ¼ */
        .control-panel p {
            font-size: 1.1em;
            margin-bottom: 10px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding-top: 15px;
        }
        .control-panel button {
            /* ğŸ¨ ë³€ê²½: ë²„íŠ¼ ìƒ‰ìƒ */
            background-color: #E1854B; /* ê°€ì„ ëŠë‚Œ ì£¼í™© */
            color: #FFFFFF;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 5px;
            width: 100%;
            margin: 10px 0;
            font-weight: bold;
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        .control-panel button:hover {
            background-color: #D36C2F;
            box-shadow: 0 0 10px #E1854B;
        }

        /* ğŸ ë§ˆìš°ìŠ¤ ë‚™ì—½ ì´í™íŠ¸ ìŠ¤íƒ€ì¼ */
        .leaf-particle {
            position: absolute;
            width: 15px; height: 15px;
            background-color: transparent;
            /* ğŸ¨ ë³€ê²½: ë‚™ì—½ ëª¨ì–‘ */
            border-radius: 50% 50% 50% 50% / 60% 40% 60% 40%;
            pointer-events: none;
            opacity: 0;
            animation: fallAndFade 2s forwards;
            transform-origin: center center;
            z-index: 9999; /* ë§ˆìš°ìŠ¤ ì´í™íŠ¸ê°€ ê°€ì¥ ìœ„ì— ë³´ì´ë„ë¡ */
        }
        /* ğŸ¨ ë³€ê²½: ë‚™ì—½ ìƒ‰ìƒë“¤ */
        .leaf-red { background-color: #C62828; } /* ì§™ì€ ë¹¨ê°• */
        .leaf-orange { background-color: #EF6C00; } /* ì§™ì€ ì£¼í™© */
        .leaf-yellow { background-color: #FBC02D; } /* ì§™ì€ ë…¸ë‘ */
        .leaf-brown { background-color: #6D4C41; } /* ê°ˆìƒ‰ */

        @keyframes fallAndFade {
            0% { transform: translate(0, 0) scale(0.5) rotate(0deg); opacity: 0.8; }
            100% {
                transform: translate(calc(var(--rand-x) * 1px), calc(var(--rand-y) * 1px)) scale(1.2) rotate(calc(var(--rand-deg) * 1deg));
                opacity: 0;
            }
        }

        /* ğŸ ë°°ê²½ ë‚™ì—½ ì´í™íŠ¸ ìŠ¤íƒ€ì¼ */
        .background-leaf {
            position: fixed;
            width: 18px;
            height: 18px;
            background-color: transparent;
            /* ğŸ¨ ë³€ê²½: ë‚™ì—½ ëª¨ì–‘ */
            border-radius: 50% 50% 50% 50% / 60% 40% 60% 40%;
            pointer-events: none;
            opacity: 0;
            z-index: 9000;
            animation-name: backgroundFallAndFade;
            animation-duration: var(--leaf-duration);
            animation-timing-function: linear;
            animation-iteration-count: 1;
            animation-fill-mode: forwards;
        }

        /* ğŸ ë°°ê²½ ë‚™ì—½ ìƒ‰ìƒ (íˆ¬ëª…ë„ ê°•í™”) */
        .bg-leaf-red { background-color: rgba(198, 40, 40, 0.8); }
        .bg-leaf-orange { background-color: rgba(239, 108, 0, 0.85); }
        .bg-leaf-yellow { background-color: rgba(251, 192, 45, 0.9); }
        .bg-leaf-brown { background-color: rgba(109, 76, 65, 0.8); }

        /* ğŸ ë°°ê²½ ë‚™ì—½ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes backgroundFallAndFade {
            0% {
                transform: translateX(var(--start-x)) translateY(-300px) scale(var(--leaf-scale)) rotate(0deg);
                opacity: 0.2; /* ì‹œì‘ íˆ¬ëª…ë„ ì•½ê°„ ë†’ì„ */
            }
            10% { opacity: var(--leaf-opacity); }
            90% { opacity: var(--leaf-opacity); }
            100% {
                transform: translateX(calc(var(--end-x) + (var(--wind-x) * 1px))) translateY(calc(100vh + 50px)) scale(var(--leaf-scale)) rotate(calc(var(--rand-deg) * 1deg));
                opacity: 0;
            }
        }
    </style>
</head>
<body>

<header>
    <div id="farm-name-container">
        <h1 id="farm-name"></h1> <button id="edit-name-btn" onclick="editFarmName()">ìˆ˜ì •</button>
    </div>
    <div id="current-time"></div>
</header>

<div class="container">
    <section class="dashboard-panel data-panel">
        <h2>ğŸ“Š ì‹¤ì‹œê°„ í™˜ê²½ ë°ì´í„°</h2>

        <div class="data-item">
            <strong>ì˜¨ë„ (Temperature)</strong>
            <div class="data-value" id="temperature">24.5 Â°C</div>
            <progress id="temp-gauge" value="24.5" max="40"></progress>
        </div>

        <div class="data-item">
            <strong>ìŠµë„ (Humidity)</strong>
            <div class="data-value" id="humidity">65 %</div>
            <progress id="humi-gauge" value="65" max="100"></progress>
        </div>

        <div class="data-item">
            <strong>í† ì–‘ ìˆ˜ë¶„ (Soil Moisture)</strong>
            <div class="data-value" id="soil-moisture">55 %</div>
            <progress id="soil-gauge" value="55" max="100"></progress>
        </div>
    </section>

    <section class="dashboard-panel control-panel">
        <h2>âš™ï¸ ì¥ì¹˜ ì œì–´ ë° ìƒíƒœ</h2>

        <p>í™˜í’ê¸° ìƒíƒœ: <span id="fan-status">OFF</span></p>
        <button onclick="controlDevice('fan')">í™˜í’ê¸° ìƒíƒœ ì „í™˜</button>

        <p>íŒí”„ ìƒíƒœ: <span id="pump-status">AUTO</span></p>
        <button onclick="controlDevice('pump')">íŒí”„ ìƒíƒœ ì „í™˜</button>

        <p>LED ì¡°ëª…: <span id="led-status">ON</span></p>
        <button onclick="controlDevice('led')">LED ì¡°ëª… ìƒíƒœ ì „í™˜</button>
    </section>
</div>

<script>
    // ğŸ’¡ í—¤ë” ì´ë¦„ ê¸°ë³¸ê°’ ì„¤ì •
    const defaultFarmName = "[ë‚´ ë†ì¥] SFOS DASHBOARD";

    // âœ¨ í—¤ë” ì¶”ê°€ ê¸°ëŠ¥: ì‹¤ì‹œê°„ ì‹œê°„ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateTime() {
        // í˜„ì¬ ì‹œê°„ (í•œêµ­ ì‹œê°„ìœ¼ë¡œ ê°€ì •)
        const now = new Date();
        const year = now.getFullYear();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const day = String(now.getDate()).padStart(2, '0');
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');

        const timeString = `${year}ë…„ ${month}ì›” ${day}ì¼ ${hours}:${minutes}:${seconds}`;
        document.getElementById('current-time').textContent = timeString;
    }

    // âœ¨ í—¤ë” ì¶”ê°€ ê¸°ëŠ¥: ë†ì¥ ì´ë¦„ ìˆ˜ì • í•¨ìˆ˜
    function editFarmName() {
        const farmNameElement = document.getElementById('farm-name');

        // í˜„ì¬ ì´ë¦„ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ì…ë ¥ í”„ë¡¬í”„íŠ¸ ì œê³µ
        const newName = prompt("ìƒˆë¡œìš´ ë†ì¥ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:", farmNameElement.textContent);

        // ì‚¬ìš©ìê°€ ì…ë ¥ì„ ì·¨ì†Œí•˜ì§€ ì•Šê³  ìƒˆ ì´ë¦„ì„ ì…ë ¥í–ˆì„ ê²½ìš°
        if (newName !== null && newName.trim() !== "") {
            farmNameElement.textContent = newName.trim();
            alert("ë†ì¥ ì´ë¦„ì´ '" + newName.trim() + "'(ìœ¼)ë¡œ ë³€ê²½ë˜ì—ˆì–´ìš”!");
        } else if (newName !== null) {
            alert("ì´ë¦„ì´ ë¹„ì–´ìˆìœ¼ë©´ ì•ˆ ë¼ìš”! ê¸°ì¡´ ì´ë¦„ì´ ìœ ì§€ë©ë‹ˆë‹¤.");
        }
    }


    // ì¥ì¹˜ ì œì–´ í•¨ìˆ˜: ëª¨ë“  ì¥ì¹˜ë¥¼ í† ê¸€ í˜•íƒœë¡œ ë™ì‘
    function controlDevice(device) {
        const statusElement = document.getElementById(device + '-status');
        let currentStatus = statusElement.textContent;
        let newStatus;

        // íŒí”„ì˜ 'AUTO' ìƒíƒœëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ 'OFF'ì™€ ìœ ì‚¬í•˜ê²Œ ì²˜ë¦¬í•˜ì—¬ 'ON'ìœ¼ë¡œ í† ê¸€
        if (device === 'pump' && currentStatus === 'AUTO') {
             currentStatus = 'OFF';
        }

        // ìƒíƒœ ì „í™˜ ë¡œì§
        if (currentStatus === 'ON') {
            newStatus = 'OFF';
            statusElement.style.color = '#FF7043'; // OFF ìƒ‰ìƒ (ì—°í•œ ì£¼í™©)
        } else {
            newStatus = 'ON';
            statusElement.style.color = '#D36C2F'; // ON ìƒ‰ìƒ (ì£¼í™©)
        }

        // ìƒíƒœ ì—…ë°ì´íŠ¸
        statusElement.textContent = newStatus;

        console.log(device + " ì¥ì¹˜ë¥¼ " + newStatus + "ë¡œ ì „í™˜ ëª…ë ¹ ì „ì†¡");
        alert(device + " ì¥ì¹˜ë¥¼ " + newStatus + "ë¡œ ì „í™˜í–ˆì–´ìš”!");
    }

    // ğŸ ë§ˆìš°ìŠ¤ ë‚™ì—½ ì´í™íŠ¸ JavaScript
    const mouseLeafColors = ['leaf-red', 'leaf-orange', 'leaf-yellow', 'leaf-brown'];

    document.addEventListener('mousemove', function(e) {
        const particle = document.createElement('div');
        particle.className = 'leaf-particle';
        document.body.appendChild(particle);

        const randomColorClass = mouseLeafColors[Math.floor(Math.random() * mouseLeafColors.length)];
        particle.classList.add(randomColorClass);

        const size = Math.random() * 8 + 12;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';

        particle.style.left = (e.clientX - size / 2) + 'px';
        particle.style.top = (e.clientY - size / 2) + 'px';

        // íšŒì „ê³¼ ì¢Œìš° ì›€ì§ì„ ê°•í™”
        particle.style.setProperty('--rand-x', Math.random() * 300 - 150); // ì¢Œìš° í­ ì¦ê°€
        particle.style.setProperty('--rand-y', Math.random() * 250 + 70); // ë‚™í•˜ ê±°ë¦¬ ì¦ê°€
        particle.style.setProperty('--rand-deg', Math.random() * 1080 - 540); // íšŒì „ ê°ë„ ì¦ê°€

        particle.addEventListener('animationend', function() {
            particle.remove();
        });
    });

    // ğŸ ë°°ê²½ ë‚™ì—½ ì´í™íŠ¸ JavaScript
    const bgLeafColors = ['bg-leaf-red', 'bg-leaf-orange', 'bg-leaf-yellow', 'bg-leaf-brown'];

    function createBackgroundLeaf() {
        const leaf = document.createElement('div');
        leaf.className = 'background-leaf';
        document.body.appendChild(leaf);

        const randomColorClass = bgLeafColors[Math.floor(Math.random() * bgLeafColors.length)];
        leaf.classList.add(randomColorClass);

        const size = Math.random() * 10 + 15;
        leaf.style.width = size + 'px';
        leaf.style.height = size + 'px';

        const startX = Math.random() * window.innerWidth;
        leaf.style.left = startX + 'px';

        const duration = Math.random() * 5 + 10;

        leaf.style.setProperty('--start-x', startX + 'px');
        // ë°”ëŒì— ë‚ ë¦¬ëŠ” íš¨ê³¼ë¥¼ ìœ„í•´ ì¢Œìš° ì›€ì§ì„ í­ì„ ë” ë„“ê²Œ
        leaf.style.setProperty('--end-x', (startX + (Math.random() * 400 - 200)) + 'px');
        leaf.style.setProperty('--rand-deg', Math.random() * 1080 - 540); // íšŒì „ ê°ë„ ì¦ê°€
        leaf.style.setProperty('--leaf-duration', duration + 's');
        leaf.style.setProperty('--leaf-scale', Math.random() * 0.7 + 0.8); // ìŠ¤ì¼€ì¼ ë³€í™” í­ ì¦ê°€
        leaf.style.setProperty('--leaf-opacity', Math.random() * 0.2 + 0.7); // íˆ¬ëª…ë„ ìµœì†Ÿê°’ 0.7ë¡œ ìœ ì§€

        // ë‚™ì—½ì´ ì¢Œìš°ë¡œ í”ë“¤ë¦¬ë©° ë–¨ì–´ì§€ëŠ” ëŠë‚Œ ì¶”ê°€ (backgroundFallAndFade ì• ë‹ˆë©”ì´ì…˜ì—ì„œ --wind-x ë³€ìˆ˜ í™œìš©)
        leaf.style.setProperty('--wind-x', Math.random() * 100 - 50); // -50px ~ 50px ì‚¬ì´ì˜ ë°”ëŒ íš¨ê³¼

        leaf.addEventListener('animationend', function() {
            leaf.remove();
        });
    }

    setInterval(createBackgroundLeaf, 300);

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ë¦„ê³¼ ì´ˆê¸° ìƒíƒœ ìƒ‰ìƒ ì„¤ì •
    document.addEventListener('DOMContentLoaded', function() {
        // ë†ì¥ ì´ë¦„ ê¸°ë³¸ê°’ ì„¤ì •
        document.getElementById('farm-name').textContent = defaultFarmName;

        // ì´ˆê¸° ìƒíƒœ ìƒ‰ìƒ ì„¤ì •
        const devices = ['fan', 'pump', 'led'];
        devices.forEach(device => {
            const statusElement = document.getElementById(device + '-status');
            const status = statusElement.textContent;

            if (device === 'pump' && status === 'AUTO') {
                statusElement.style.color = '#9CCC65'; // AUTOëŠ” ì¤‘ë¦½ìƒ‰
            } else if (status === 'ON') {
                statusElement.style.color = '#D36C2F'; // ONì€ ì£¼í™©
            } else { // OFF
                statusElement.style.color = '#FF7043'; // OFFëŠ” ì—°í•œ ì£¼í™©
            }
        });
    });

    // ì‹œê°„ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë¥¼ DOMContentLoaded ë°–ì—ì„œ í˜¸ì¶œí•˜ì—¬ ì¦‰ì‹œ ì‹¤í–‰
    updateTime();
    setInterval(updateTime, 1000);
</script>
</body>
</html>